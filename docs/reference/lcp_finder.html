<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a LcpFinder — lcp_finder • quadtree</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a LcpFinder — lcp_finder"><meta property="og:description" content="Creates a LcpFinder object that can then be used
  by find_lcp and find_lcps to find least-cost
  paths (LCPs) using a Quadtree as a resistance surface."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">quadtree</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/quadtree-creation.html">Creating Quadtrees</a>
    </li>
    <li>
      <a href="../articles/quadtree-usage.html">Using Quadtrees</a>
    </li>
    <li>
      <a href="../articles/quadtree-lcp.html">Finding LCPs</a>
    </li>
    <li>
      <a href="../articles/quadtree-code.html">Code Details</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dfriend21/quadtree/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a <code>LcpFinder</code></h1>
    <small class="dont-index">Source: <a href="https://github.com/dfriend21/quadtree/blob/HEAD/R/lcp.R" class="external-link"><code>R/lcp.R</code></a></small>
    <div class="hidden name"><code>lcp_finder.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates a <code><a href="LcpFinder-class.html">LcpFinder</a></code> object that can then be used
  by <code><a href="find_lcp.html">find_lcp</a></code> and <code><a href="find_lcps.html">find_lcps</a></code> to find least-cost
  paths (LCPs) using a <code><a href="Quadtree-class.html">Quadtree</a></code> as a resistance surface.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for Quadtree</span></span>
<span><span class="fu">lcp_finder</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">start_point</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  new_points <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="fl">0</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  search_by_centroid <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>a <code><a href="Quadtree-class.html">Quadtree</a></code> to be used as a resistance surface</p></dd>


<dt>start_point</dt>
<dd><p>two-element numeric vector (x, y) - the x and y coordinates of the
starting point</p></dd>


<dt>xlim</dt>
<dd><p>two-element numeric vector (xmin, xmax) - constrains the nodes
included in the network to those whose x limits fall in the range specified
in <code>xlim</code>. If <code>NULL</code> the x limits of <code>x</code> are used</p></dd>


<dt>ylim</dt>
<dd><p>same as <code>xlim</code>, but for y</p></dd>


<dt>new_points</dt>
<dd><p>a two-column matrix representing point coordinates. First
column contains the x-coordinates, second column contains the
y-coordinates. This matrix specifies point locations to use instead of the
node centroids. See 'Details' for more.</p></dd>


<dt>search_by_centroid</dt>
<dd><p>boolean; determines which cells are considered to
be "in" the box specified by <code>xlim</code> and <code>ylim</code>. If <code>FALSE</code>
(the default) any cell that overlaps with the box is included. If
<code>TRUE</code>, a cell is only included if its <strong>centroid</strong> falls inside
the box.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a <code><a href="LcpFinder-class.html">LcpFinder</a></code></p>


    </div>
    <div id="details">
    <h2>Details</h2>
    <p>See the vignette 'quadtree-lcp' for more details and examples (i.e. run
  <code><a href="../articles/quadtree-lcp.html">vignette("quadtree-lcp", package = "quadtree")</a></code>)</p>  
<p>To find a least-cost path, the cells are treated as points - by default,
  the cell centroids are used. This results in some degree of error,
  especially for large cells. The <code>new_points</code> parameter can be used to
  specify the points used to represent the cells - this is particularly
  useful for specifying the points to be used for the start and end cells.
  Each point in the matrix will be used as the point for the cell it falls in
  (if two points fall in the same cell, the first point is used). Note that
  this raises the possibility that a straight line between neighboring cells
  may pass through other cells as well, which complicates the calculation of
  the edge cost. To mitigate this, when a straight line between neighboring
  cells passes through a different cell, the path is adjusted so that it
  actually consists of two segments - the start point to the "corner point"
  where the two cells meet, and then from that point to the end point. See
  the "quadtree-lcp" vignette for a graphical example of this situation.</p>  
<p>An <code>LcpFinder</code> saves state, so once the LCP tree is calculated,
  individual LCPs can be retrieved without further computation. This makes it
  efficient at calculating multiple LCPs from a single starting point.
  However, in the case where only a single LCP is needed,
  <code><a href="find_lcp.html">find_lcp</a>()</code> offers an interface for finding an LCP without
  needing to use <code>lcp_finder()</code> to create the <code>LcpFinder</code> object
  first.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="find_lcp.html">find_lcp</a>()</code> returns the LCP between the start point and
  another point. <code><a href="find_lcps.html">find_lcps</a>()</code> finds all LCPs whose cost-distance
  is less than some value. <code><a href="summarize_lcps.html">summarize_lcps</a>()</code> outputs a summary
  matrix of all LCPs that have been calculated so far.
  <code><a href="plot.LcpFinder.html">points</a>()</code> and
  <code><a href="plot.LcpFinder.html">lines</a>()</code> can be used to plot a
  <code><a href="LcpFinder-class.html">LcpFinder</a></code>.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">####### NOTE #######</span></span></span>
<span class="r-in"><span><span class="co"># see the "quadtree-lcp" vignette for more details and examples:</span></span></span>
<span class="r-in"><span><span class="co"># vignette("quadtree-lcp", package = "quadtree")</span></span></span>
<span class="r-in"><span><span class="co">####################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dfriend21/quadtree/" class="external-link">quadtree</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">habitat</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"habitat.tif"</span>, package<span class="op">=</span><span class="st">"quadtree"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">qt</span> <span class="op">&lt;-</span> <span class="fu"><a href="quadtree.html">quadtree</a></span><span class="op">(</span><span class="va">habitat</span>, split_threshold <span class="op">=</span> <span class="fl">.1</span>, adj_type <span class="op">=</span> <span class="st">"expand"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># find the LCP between two points</span></span></span>
<span class="r-in"><span><span class="va">start_pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6989</span>, <span class="fl">34007</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">end_pt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">33015</span>, <span class="fl">38162</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create the LCP finder object and find the LCP</span></span></span>
<span class="r-in"><span><span class="va">lcpf</span> <span class="op">&lt;-</span> <span class="fu">lcp_finder</span><span class="op">(</span><span class="va">qt</span>, <span class="va">start_pt</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">path</span> <span class="op">&lt;-</span> <span class="fu"><a href="find_lcp.html">find_lcp</a></span><span class="op">(</span><span class="va">lcpf</span>, <span class="va">end_pt</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot the LCP</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot.html">plot</a></span><span class="op">(</span><span class="va">qt</span>, crop <span class="op">=</span> <span class="cn">TRUE</span>, na_col <span class="op">=</span> <span class="cn">NULL</span>, border_lwd <span class="op">=</span> <span class="fl">.3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/lines.html" class="external-link">points</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">start_pt</span>, <span class="va">end_pt</span><span class="op">)</span>, pch <span class="op">=</span> <span class="fl">16</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/lines.html" class="external-link">lines</a></span><span class="op">(</span><span class="va">path</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>, col <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="lcp_finder-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Derek Friend.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

